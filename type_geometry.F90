!> geometry derived type for the IFS model
!> separated from geometry_mod to break dependency issues with sugeometry

MODULE TYPE_GEOMETRY

USE YOMVERT    , ONLY : TVAB, TVETA, TVFE, TVERTICAL_GEOM
USE YOMSTA     , ONLY : TSTA
USE YOMLAP     , ONLY : TLAP
USE YOMLEG     , ONLY : TCSGLEG
USE YOMDIM     , ONLY : TDIM
USE YOMDIMV    , ONLY : TDIMV
USE YOMMP      , ONLY : TMP
USE YOMGEM     , ONLY : TGEM
USE YOMCSGEOM  , ONLY : TCSGEOM, TCSGEOM_BLOCKED
USE YOMGSGEOM  , ONLY : TGSGEOM, TGSGEOM_BLOCKED
USE YOMOROG    , ONLY : TOROG,   TOROG_BLOCKED
USE TYPE_SPGEOM, ONLY : TSPGEOM
USE YEMDIM     , ONLY : TEDIM
USE YEMGEO     , ONLY : TEGEO
USE YEMMP      , ONLY : TEMMP
USE YEMLAP     , ONLY : TLEP
USE YEMGSL     , ONLY : TEGSL
!
USE YEMLBC_GEO , ONLY : TELBC_GEO
!
USE YOMCVER , ONLY : TCVER


IMPLICIT NONE 

PRIVATE

TYPE, PUBLIC :: GEOMETRY
  LOGICAL,POINTER  :: LNONHYD_GEOM => NULL()  ! pointer to inner YRVERT_GEOM%LNONHYD_GEOM
  LOGICAL          :: LNHX_GEOM
  TYPE(TVERTICAL_GEOM) :: YRVERT_GEOM

  TYPE(TVAB),POINTER     :: YRVAB => NULL()    ! Geometry restricted vertical hybrid coordinates 0->NFLEVG
  TYPE(TVETA),POINTER    :: YRVETA => NULL()
  TYPE(TVFE),POINTER     :: YRVFE => NULL()
  TYPE(TCVER),POINTER    :: YRCVER => NULL()
  TYPE(TSTA)    :: YRSTA
  TYPE(TLAP)    :: YRLAP
  TYPE(TCSGLEG) :: YRCSGLEG

  TYPE(TDIM)    :: YRDIM
  TYPE(TDIMV)   :: YRDIMV
  TYPE(TMP)     :: YRMP
  TYPE(TGEM)    :: YRGEM


  TYPE(TCSGEOM), POINTER :: YRCSGEOM(:) => NULL()
  TYPE(TCSGEOM)          :: YRCSGEOM_NB
  TYPE(TCSGEOM_BLOCKED)  :: YRCSGEOM_B

  TYPE(TGSGEOM), POINTER :: YRGSGEOM(:) => NULL() 
  TYPE(TGSGEOM)          :: YRGSGEOM_NB
  TYPE(TGSGEOM_BLOCKED)  :: YRGSGEOM_B

  LOGICAL                    :: AD_GEOM = .FALSE.
  TYPE(TCSGEOM), POINTER     :: YRCSGEOMAD(:) => NULL()
  TYPE(TCSGEOM)              :: YRCSGEOMAD_NB
  TYPE(TGSGEOM), POINTER     :: YRGSGEOMAD(:) => NULL()
  TYPE(TGSGEOM)              :: YRGSGEOMAD_NB


  TYPE(TOROG), ALLOCATABLE :: YROROG(:)
  TYPE(TOROG_BLOCKED)      :: YROROG_B

  TYPE(TSPGEOM) :: YSPGEOM

  TYPE(TVAB)    :: YVABIO ! I/O full vertical hybrid coordinates 0->NIOLEVG (NIOLEVG >=NFLEVG)

  ! LAM specific objects
  TYPE(TEDIM) :: YREDIM
  TYPE(TEGEO) :: YREGEO
  TYPE(TEMMP) :: YREMP
  TYPE(TLEP)  :: YRELAP
  TYPE(TEGSL) :: YREGSL
!
  TYPE(TELBC_GEO), POINTER :: YRELBC_GEO => NULL()
!

END TYPE GEOMETRY

END MODULE TYPE_GEOMETRY
